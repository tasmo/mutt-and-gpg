unset arrow_cursor         # highlight current line instead of using arrow
unset collapse_unread      # don't collapse threads with unread mails
set   uncollapse_jump      # jump to unread message when uncollapse
unset confirmappend        # don't confirm saving/copying messages
set   confirmcreate        # but confirm if saving creates a new mailbox
set   delete=ask-no        # don't ask me to delete messages - just do it!
set   help                 # show help on first line of display
unset mark_old             # don't mark unread messages as Old
set   narrow_tree          # narrow threading trees
unset sort_re              # Use strict threading
set   strict_threads       # ^^^
unset mail_check_recent    # keep telling me a mailbox has new mail even if I
                           # visit it (added in 1.5.21)
unset allow_8bit           # 8bit isn't safe via Demon.
set   move=no              # don't move messages to mbox and don't ask
set   print=ask-yes        # double check when hitting 'p'
set   quit=ask-yes         # double check 'q' too
set   sleep_time=0         # Don't pause between mailbox changes
set   sort=threads         # Nachrichten im Index nach Thread sortieren
set   sort_aux=last-date-received      # secondary sorting (for threads)
# set sort_aux=date-sent

# set index_format="%4C %Z %{%b %d} %-15.15L %?M?>#%03M<&(%4l)? %s"
# set index_format="%4C %Z %{%b %d} %-15.15L (%?l?%4l&%4c?) %s"
# set index_format="%4C %Z  %[%a %b %d %Y %X]  %-15.15L (%?l?%4l&%4c?) %s"
# set index_format="%4C %Z  %[%a %x %X]  %-15.15L (%?l?%4l&%4c?) %s"
# set index_format="%4C %[%a %x %X]  %-15.15L %Z (%?l?%4l&%4c?) %s"
# set index_format="%4C %[%a %x %X]  %-15.15F %Z (%4c) %s"
set   index_format="%4C %Z %{%b %d} %-15.15L %?M?(#%03M)&(%4l)? %?y?(%.20Y) ?%s"
set   status_format=" %r %b %f %n      Del %d      Msgs %m %l %> (%P)"
set   pager_format="%-10.10i %[!%a %b %d %R]"
set   date_format="!%H:%M %a %d %b     "
# set   index_format="%4C %Z %[%b%d] %-15.15F %s"
set   folder_format="%2C %t %8s %d %N %f"

###########################################
# Message composition settings
#

set   abort_nosubject=ask-yes  # abort if no subject
set   abort_unmodified=ask-yes # abort if message wasn't edited
unset askbcc                   # don't prompt for bcc's
unset askcc                    # don't prompt for cc's
set   attribution="* %n <%a> [%{%Y-%m-%d %H:%M:%S %Z}]:\n" # Attribution line.
# set   autoedit               # compose emails without the prompts
set   edit_hdrs                # display the headers when I'm editing a message
set   editor="vim -c 'set tw=70 et' '+/^$' "
# set   editor="subl -w"
set   tmpdir="~/.tmp"
set   fast_reply               # don't prompt for stuff when replying
set   followup_to              # add Mail-Followup-To header for lists
set   ispell="aspell -e -c"
unset metoo                    # remove my email from list of recipients
set   mime_forward=ask-no      # forward messages as rfc822 attachments
                               #   - useful for forwarding attachments too
set   postpone=ask-no          # Ask about postponing.
set   postponed=+postponed     # Where postponed messages live.
set   reply_to=ask-yes         # ask to use from or reply-to
set   recall=no                # Don't ask about postponed when composing
                               # just use 'R' to recall postponed messages
set   include=yes              # Include the message in replies.
set   charset=UTF-8
set   send_charset=UTF-8
set   quote_regexp="^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+"  # What we consider to be a quote.
set   to_chars=" +TCF "        # Drop the "L".
set   envelope_from=yes        # übergibt msmtp automatisch den richtigen Absender

###########################################
# Message delivery settings
#

set   bounce_delivered     # unset: remove Delivered-To: when bouncing?
set   copy                 # save copies of sent messages


###########################################
# Pager settings
#

unset markers              # don't insert '+' character for wrapped lines
set   pager="builtin"      # Use the built-in pager, not 'less'
set   pager_stop           # don't go to next message at end of message
set   pager_context=5      # display two lines on pgup/pgdown
set   pager_index_lines=8  # display 8 lines of the index while viewing messages

#
# Headers to display
#
source ~/.mutt/headers

###########################################
# Global settings
#

unset beep                 # don't beep on error
unset beep_new             # don't beep on new message
unset menu_scroll          # scroll menu a page on last line
unset wait_key             # don't prompt for a key after external commands

# These two settings control how new mail is checked for.
# See http://dev.mutt.org/trac/wiki/MuttFaq/Folder for more details.
#
# $mail_check controls the minimum amount of time to wait before
# scanning mail folders for new mail.  Keypresses or a $timeout event
# will ask for a new mail status update, but mutt will NOT actually scan
# the folders until at least $mail_check seconds has passed since the
# last scan.
#
# $timeout controls how long to wait for user input before timing out
# and updating the new mail status messages.  This will not trigger a
# folder scan unless $mail_check amount of time has passed since the
# last folder scan.
#
# Note that it is more useful if $mail_check < $timeout otherwise you
# may trigger a timeout but not actually scan folders for new mail.

set   mail_check=10        # Default is 5 seconds
set   timeout=60           # Default is 600 seconds

# set print_command="muttprint"
# set print_command="enscript -G2r"
set   print_command="enscript -G"

# set query_command="/usr/local/scripts/mutt-ldap"
# set query_command="~/.mutt/bin/ldapsearch.sh '%s'"
# set query_command="abook --mutt-query '%s'"
set   query_command="lbdbq '%s'"

# alias file
set   alias_file=~/.mutt/aliases
set   reverse_alias        # Bewirkt, dass in der E-Mail-Übersicht der Name statt der Absender-Adresse angezeigt wird, wenn er in der Alias-Datei steht
source ~/.mutt/aliases

###########################################
# SSL settings
#
set   ssl_starttls = yes
set   ssl_force_tls        # make sure all connections are encrypted


###########################################
# MIME settings
#

#
# Says we prefer plain text to html in multiparts
#
# HTML is the last option.
alternative_order text/enriched text/plain text/html

#
# Says to consult mime.types for determining types of these attachments
#
mime_lookup application/octet-stream

#
# MIME autoviewing.  Requires appropriate .mailcap entry
# (with copiousoutput flag set)
#
source ~/.mutt/auto_views


###########################################
# Macros
#

# macro index ,a <save-message>=archive\n
# macro pager ,a <save-message>=archive\n

# ctrl-b
# macro index,pager \cb <pipe-message>urlview<enter>
# macro index,pager \cb "<pipe-message>~/.mutt/bin/extract_url.pl<enter>" "extract urls"

# macro index,pager A "<pipe-message>abook --add-email<return>" "add the sender address to abook"
# macro index,pager A "<pipe-message>lbdb-fetchaddr -a<return>" "add the sender address to lbdb"
source ~/.mutt/macros


###########################################
# msmtpq settings.
# I don't use this, but it looks interesting.
#

# set sendmail   = "$my_cfgdir/bin/msmtpQ"
# macro index "'q"   "<shell-escape>$my_cfgdir/bin/msmtpq -d  | less -r<enter>" "Show the local mail queuee"
# macro index "'f"   "<shell-escape>$my_cfgdir/bin/msmtpq -r 2>&1 | less -r<enter>" "Flush the local mail queue"


###########################################
# GPG
#

# try using long key ids (after changing the keyid-format setting in gpg.conf)
set   pgp_long_ids

source ~/.mutt/gpg.rc

###########################################
# Colors
#

source ~/.mutt/colors

###########################################
# Local configs
#
# Folder hooks
folder-hook 'example.com' 'source ~/.mutt/account.example.muttrc'

# Default account
source ~/.mutt/account.example.muttrc

# Fetch mail shortcut
bind  index G imap-fetch-mail

###########################################
# Tips
#

# Useful keys to remember:
#
# INDEX:
# &    - link broken threads
#        first tag the reply, then moving to the parent message and hit '&'
# #    - break thread
#        turns the subthread starting from the current message into a whole
#        different thread.
# =    - first message
# *    - last message
#
# PAGER:
# ^  jump to top of message
# -  previous-page

# vim: syntax=muttrc
# vim: ft=muttrc
